<div class="header">
    <img src=" {{appLogo}} " class="logo"> 
    <div class="buttons">
        <p-button *ngIf="authService.isLoggedIn()" label="Home" icon="pi pi-user" (onClick)="goToHome()"></p-button>
        <p-button *ngIf="authService.isLoggedIn()" label="Logout" icon="pi pi-plus" (onClick)="logout()"></p-button>
    </div>
</div>

<div class="profile-container" *ngIf="userData">
    <img [src]="userData.image" class="profile-image" alt="Profile Image">
    <h2 class="profile-name">Welcome, {{ userData.name }}</h2>
    <input type="file" (change)="uploadProfileImage($event)" class="upload-button">

    <!-- Add a form for editing the user's name -->
    <form (submit)="updateUserName(newName.value)">
        <input type="text" #newName placeholder="New name" required>
        <br>
        <br>
        <p-button type="submit">Update Name</p-button>
        <br>
    </form>
</div>
<br>
<p-panel header="Receipts">
    <div style="display: grid; column-gap: 1rem; row-gap: 1rem; grid-template-columns: 1fr 1fr;">
        <p-card *ngFor="let receipt of receipts" (dblclick)="goToReceipt(receipt)">
            <app-recipe [recipe]="receipt"></app-recipe>
        </p-card>
    </div> 
</p-panel>

<p-dialog *ngIf="showRecipe" header="{{currentReceipt.name}}" [(visible)]="showRecipe" [style]="{width: '50vw'}" 
        [modal]="true" [draggable]="false" [resizable]="false" [maximizable]="true">
    <app-recipe [recipe]="currentReceipt" [detail]="true" (closeDetail)="closeDetail()"></app-recipe>
</p-dialog>
